# NPM Configuration to fix cache permission issues during deployment
# Redirect all cache to writable temporary directory (completely isolated from system)
cache=/tmp/.npm-isolated-cache
tmp=/tmp
init-cache=/tmp/.npm-isolated-init
# Disable all problematic npm features that can cause permission issues
fund=false
audit=false
update-notifier=false
disable-opencollective=true
# Build optimization settings to avoid cache conflicts
progress=false
loglevel=warn
prefer-offline=false
ignore-scripts=false
unsafe-perm=true
# Force npm to avoid any system cache directories
cache-max=0
cache-min=0
# Disable package-lock and shrinkwrap to avoid permission issues
package-lock=false
shrinkwrap=false
# Disable all automatic features that might access protected directories
save=false
save-dev=false
save-optional=false
save-exact=false
# Additional cache and permission settings
cache-lock-retries=3
cache-lock-stale=30000
cache-lock-wait=5000
# Force writable locations for all npm operations (deployment-safe)
globalconfig=/tmp/.npmrc-isolated-global
userconfig=/tmp/.npmrc-isolated-user
# Completely disable npm registry interaction optimizations
prefer-online=true
registry-timeout=30000